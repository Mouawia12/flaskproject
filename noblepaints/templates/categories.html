{% extends 'sec.html' %}
{% set page_title_key = 'categories.meta.title' %}
{% block head %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/categories.css') }}">
{% endblock %}

{% block hero %}
<section class="page-hero" style="--page-hero-image: url('{{ url_for('static', filename='images/speces01.png') }}');">
    <div class="page-hero__overlay" aria-hidden="true"></div>
    <div class="container2">
        <nav class="page-hero__breadcrumbs" aria-label="Breadcrumb">
            <a href="{{ url_for_lang('home_page') }}">
                <i class="fa-solid fa-house"></i>
                <span>{{ t('nav.home') }}</span>
            </a>
            <span class="page-hero__divider" aria-hidden="true"></span>
            <span>{{ t('categories.hero.breadcrumb') }}</span>
        </nav>
        <div class="page-hero__content">
            <span class="page-hero__eyebrow">{{ t('categories.hero.eyebrow') }}</span>
            <h1 class="page-hero__title">{{ t('categories.hero.title') }}</h1>
            <p class="page-hero__subtitle">{{ t('categories.hero.subtitle') }}</p>
        </div>
    </div>
</section>
{% endblock %}

{% block content %}
<section class="section section--light">
    <div class="container2">
        <div class="category-intro">
            <p>{{ t('categories.intro.paragraph_one') }}</p>
            <p>{{ t('categories.intro.paragraph_two') }}</p>
        </div>
        {% if categories %}
        <div class="category-list">
            {% for category in categories %}
            {% set cat_name = category.nameArabic if current_lang == 'ar' and category.nameArabic else category.name %}
            {% set cat_desc = category.desc %}
            <article class="category-card {% if loop.index is even %}category-card--reverse{% endif %}">
                <div class="category-card__inner">
                    <div class="category-card__image" aria-hidden="true">
                        <img src="{{ category.img }}" alt="{{ cat_name }}">
                    </div>
                    <div class="category-card__content">
                        <span class="category-card__tag">{{ t('categories.card.tag') }}</span>
                        <h2 class="category-card__title">{{ cat_name }}</h2>
                        <div class="category-card__text">{{ cat_desc | safe }}</div>
                        <div class="category-card__actions">
                            <a class="btn btn-primary" href="{{ url_for_lang('productsSearch_page_filter_category', category=category.id, page=1) }}">{{ t('categories.card.cta_primary') }}</a>
                            <a class="btn btn-outline-primary" href="{{ url_for_lang('products_page') }}">{{ t('categories.card.cta_secondary') }}</a>
                        </div>
                    </div>
                </div>
            </article>
            {% endfor %}
        </div>
        {% else %}
        <div class="category-empty">
            <h3>{{ t('categories.empty.title') }}</h3>
            <p>{{ t('categories.empty.subtitle') }}</p>
        </div>
        {% endif %}
    </div>
</section>
{% endblock %}
